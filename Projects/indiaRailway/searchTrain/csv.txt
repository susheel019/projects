// Create a function to filter the CSV data
function filterCSVData(data, userInput) {
  // Get the column names
  const columnNames = data[0];

  // Get the index of the column to filter
  const filterColumnIndex = columnNames.indexOf(userInput.column);

  // Filter the data
  const filteredData = data.filter(row => row[filterColumnIndex] === userInput.value);

  // Return the filtered data
  return filteredData;
}

// Create a function to refresh the data table
function refreshDataTable(dataTable, filteredData) {
  // Clear the data table
  dataTable.clear();

  // Add the filtered data to the data table
  dataTable.addRows(filteredData);

  // Refresh the data table
  dataTable.draw();
}

// Get the CSV data
const csvData = await fetch('data.csv').then(response => response.text());

// Parse the CSV data
const parsedCSVData = Papa.parse(csvData);

// Get the user input
const userInput = {
  column: 'Name',
  value: 'John Doe'
};

// Filter the CSV data
const filteredData = filterCSVData(parsedCSVData.data, userInput);

// Refresh the data table
refreshDataTable(dataTable, filteredData);